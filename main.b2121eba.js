parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"qGid":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function s(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?i(e):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuScene=void 0;var c=function(t){function n(){return e(this,n),s(this,r(n).call(this,{key:"MenuScene"}))}return u(n,Phaser.Scene),o(n,[{key:"preload",value:function(){this.load.image("play_button","./assets/images/play_button.png"),this.load.image("sound_on","./assets/images/sound_on.png"),this.load.image("sound_off","./assets/images/sound_off.png"),this.load.image("title","./assets/images/font3.png"),this.load.image("stars_bg","./assets/images/sky4.png"),this.load.audio("music","./assets/audio/music.mp3"),this.load.image("control_button","./assets/images/arrow.png")}},{key:"create",value:function(){var t=this;this.sound.pauseOnBlur=!0,this.music=this.sound.add("music",{loop:!0}),this.stars_bg=this.add.tileSprite(0,0,0,0,"stars_bg").setOrigin(0,0).setDepth(-2);this.add.image(this.game.renderer.width/2,this.game.renderer.height/2-50,"title");this.soundButton=this.add.image(280,20,"sound_off").setScale(.2),this.playMusic=!1,this.soundButton.setInteractive(),this.soundButton.on("pointerup",function(){!0!==t.playMusic?(t.soundButton.setTexture("sound_on"),t.music.play(),t.playMusic=!0):(t.soundButton.setTexture("sound_off"),t.music.stop(),t.playMusic=!1)});var e=this.add.image(this.game.renderer.width/2,this.game.renderer.height/2+50,"play_button");e.setInteractive(),e.on("pointerup",function(){t.scene.start("LevelA")})}},{key:"update",value:function(){this.stars_bg.tilePositionX+=1}}]),n}();exports.MenuScene=c;
},{}],"V9/R":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?s(e):r}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=function(t){function r(t,n,a){var c,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e(this,r),(c=o(this,i(r).call(this,t,n,a,"ghost",0))).scene=t;var l=t.anims;l.create({key:"ghost_run",frames:l.generateFrameNumbers("ghost",{start:0,end:3}),frameRate:8,repeat:-1}),l.create({key:"ghost_wand",frames:l.generateFrameNumbers("ghost",{start:6,end:9}),frameRate:4,repeat:-1}),l.create({key:"witch_run",frames:l.generateFrameNumbers("witch",{start:0,end:3}),frameRate:8,repeat:-1}),l.create({key:"witch_wand",frames:l.generateFrameNumbers("witch",{start:6,end:9}),frameRate:4,repeat:-1}),t.sys.updateList.add(s(c)),t.sys.displayList.add(s(c)),t.physics.world.enableBody(s(c)),c.setDrag(1e3,0).setMaxVelocity(200,500).setSize(8,16).setDepth(1).setInteractive();var h=Phaser.Input.Keyboard.KeyCodes,p=h.LEFT,f=h.RIGHT,y=h.UP,d=h.W,m=h.A,b=h.D,w=h.X;c.keys=t.input.keyboard.addKeys({left:p,right:f,up:y,w:d,a:m,d:b,x:w}),t.cameras.main.setBounds(0,0,t.map.widthInPixels,t.map.heightInPixels),t.cameras.main.startFollow(s(c)),t.physics.world.setBounds(0,0,t.map.widthInPixels,t.map.heightInPixels),c.playerIsWitch=u;var v=t.add.image(210,220,"control_button").setScale(.3).setScrollFactor(0,0).setInteractive(),g=t.add.image(270,220,"control_button").setScale(.3).setScrollFactor(0,0).setFlipX(!0).setInteractive(),I=t.add.image(40,220,"control_button").setScale(.3).setScrollFactor(0,0).setAngle(90).setInteractive();return v.on("pointerdown",function(){return c.moveIt="left"}),v.on("pointerup",function(){return c.moveIt="no"}),g.on("pointerdown",function(){return c.moveIt="right"}),g.on("pointerup",function(){return c.moveIt="no"}),I.on("pointerdown",function(){return c.moveIt="jump"}),I.on("pointerup",function(){return c.moveIt="no"}),c}return a(r,Phaser.Physics.Arcade.Sprite),n(r,[{key:"update",value:function(){var t=this.body.blocked.down,e=(this.keys,this.scene.input.keyboard.createCursorKeys());e.left.isDown||"left"===this.moveIt?(this.setAccelerationX(-700),this.setFlipX(!0)):e.right.isDown||"right"===this.moveIt?(this.setAccelerationX(700),this.setFlipX(!1)):this.setAccelerationX(0),(e.up.isDown&&t||"jump"===this.moveIt&&t)&&this.setVelocityY(-340),t?0==this.playerIsWitch?0!==this.body.velocity.x?this.anims.play("ghost_run",!0):this.setTexture("ghost",0):0!==this.body.velocity.x?this.anims.play("witch_run",!0):this.setTexture("witch",0):0==this.playerIsWitch?this.setTexture("ghost",5):this.setTexture("witch",5),this.keys.x.isDown&&this.setVelocityY(-200)}}]),r}();exports.default=u;
},{}],"+BY5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LevelA=void 0;var t=e(require("../Player.js"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}function n(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(e){function r(){return i(this,r),n(this,l(r).call(this,{key:"LevelA"}))}return h(r,Phaser.Scene),a(r,[{key:"preload",value:function(){this.load.spritesheet("ghost","./assets/sprites/witch_sprite.png",{frameHeight:24,frameWidth:24}),this.load.spritesheet("witch","./assets/sprites/witch_sprite_2.png",{frameHeight:24,frameWidth:24}),this.load.tilemapTiledJSON("map","./assets/maps/level1.json"),this.load.image("terrain","./assets/images/platformertiles_extruded.png"),this.load.image("hat","./assets/images/witch_hat2.png")}},{key:"create",value:function(){var e=this;this.scene.start("LevelB"),this.map=this.add.tilemap("map");var r=this.map.addTilesetImage("platformertiles","terrain");this.skyLayer=this.map.createStaticLayer("Sky",[r],0,0).setDepth(-2),this.bgLayer=this.map.createStaticLayer("Background",[r],0,0).setDepth(-1),this.grLayer=this.map.createStaticLayer("Ground",[r],0,0).setDepth(0);var i=this.map.findObject("Objects",function(t){return"Spawn Point"===t.name}),s=this.map.findObject("Objects",function(t){return"Hat"===t.name}),a=this.physics.add.image(s.x,s.y,"hat");this.player=new t.default(this,i.x,i.y),this.physics.add.collider(this.player,this.grLayer),this.physics.add.collider(a,this.grLayer),this.grLayer.setCollisionByProperty({collides:!0}),this.physics.add.overlap(a,this.player,function(){e.player.playerIsWitch=!0,e.scene.start("LevelB")}),this.cameras.main.setBounds(0,0,this.map.widthInPixels,this.map.heightInPixels),this.cameras.main.startFollow(this.player),this.physics.world.setBounds(0,0,this.map.widthInPixels,this.map.heightInPixels);var n=this.map.findObject("Objects",function(t){return"Hello"===t.name});console.log(n);this.add.text(n.x,n.y,n.text.text,{font:"System",fill:"#ffffff"})}},{key:"update",value:function(t,e){this.player.update(),this.player.y>this.grLayer.height&&(this.player.destroy(),this.scene.restart())}}]),r}();exports.LevelA=p;
},{"../Player.js":"V9/R"}],"PGbI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LevelB=void 0;var t=e(require("../Player.js"));function e(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(e){function i(){return r(this,i),o(this,l(i).call(this,{key:"LevelB"}))}return p(i,Phaser.Scene),s(i,[{key:"preload",value:function(){this.load.tilemapTiledJSON("map2","./assets/maps/level2.json"),this.load.image("terrain2","./assets/images/witch_tiles.png"),this.load.image("terrain3","./assets/images/industrial.png"),this.load.bitmapFont("8bit_font","./assets/fonts/8bit_font.png","./assets/fonts/8bit_font.xml")}},{key:"create",value:function(){var e=this;this.scene.start("LevelC"),this.stars_bg=this.add.tileSprite(0,0,0,0,"stars_bg").setOrigin(0,0).setDepth(-2),this.map=this.add.tilemap("map2");var i=this.map.addTilesetImage("witch_tiles","terrain2"),r=this.map.addTilesetImage("industrial","terrain3");this.grLayer=this.map.createStaticLayer("Ground",[r,i],0,0).setDepth(0),this.bgLayer=this.map.createStaticLayer("Background",[r],0,0).setDepth(-1),this.spawnPoint=this.map.findObject("Objects",function(t){return"Spawn Point"===t.name}),this.player=new t.default(this,this.spawnPoint.x,this.spawnPoint.y,!0),this.physics.add.collider(this.player,this.grLayer),this.physics.add.collider(this.player,this.bgLayer),this.grLayer.setCollisionByProperty({collides:!0}),this.grLayer.setTileIndexCallback(76,function(){console.log("ouch")}),this.player.on("pointerup",function(){e.bullet=e.physics.add.sprite(e.player.x,e.player.y,"ghost",0),e.bullet.body.setAllowGravity(!1),e.bullet.setVelocityX(300)});var n=this.map.findObject("Objects",function(t){return"Sign"===t.name});console.log(n);this.add.bitmapText(n.x-50,n.y-30,"8bit_font",n.type);var s=this.map.findObject("Objects",function(t){return"Sign2"===t.name});this.add.bitmapText(s.x,s.y,"8bit_font",s.type)}},{key:"update",value:function(e,i){this.player.update(),this.player.y>this.grLayer.height&&(this.player.destroy(),this.player=new t.default(this,this.spawnPoint.x,this.spawnPoint.y,!0),this.physics.add.collider(this.player,this.grLayer),this.physics.add.collider(this.player,this.bgLayer),this.grLayer.setCollisionByProperty({collides:!0}))}}]),i}();exports.LevelB=u;
},{"../Player.js":"V9/R"}],"viY0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LevelC=void 0;var t=e(require("../Player.js"));function e(t){return t&&t.__esModule?t:{default:t}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}function n(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(e){function i(){return r(this,i),n(this,l(i).call(this,{key:"LevelC"}))}return p(i,Phaser.Scene),o(i,[{key:"preload",value:function(){this.load.tilemapTiledJSON("map3","./assets/maps/level3.json"),this.load.bitmapFont("8bit_font","./assets/fonts/8bit_font.png","./assets/fonts/8bit_font.xml"),this.load.image("spike","./assets/images/spike.png")}},{key:"create",value:function(){var e=this;this.map=this.add.tilemap("map3");var i=this.map.addTilesetImage("witch_tiles","terrain2"),r=this.map.addTilesetImage("industrial","terrain3");this.grLayer=this.map.createDynamicLayer("Ground",[r,i],0,0).setDepth(0),this.bgLayer=this.map.createStaticLayer("Background",[r],0,0).setDepth(-1),this.stars_bg=this.add.tileSprite(0,0,this.map.widthInPixels,270,"stars_bg").setOrigin(0,0).setDepth(-2),this.spawnPoint=this.map.findObject("Objects",function(t){return"Spawn Point"===t.name}),this.player=new t.default(this,this.spawnPoint.x,this.spawnPoint.y,!0),this.physics.add.collider(this.player,this.grLayer),this.physics.add.collider(this.player,this.bgLayer),this.grLayer.setCollisionByProperty({collides:!0}),this.spikeGroup=this.physics.add.staticGroup(),this.grLayer.forEachTile(function(t){if(101===t.index){var i=t.getCenterX(),r=t.getCenterY(),s=e.spikeGroup.create(i,r,"spike");s.rotation=t.rotation,0===s.angle?s.body.setSize(16,3).setOffset(0,13):-90===s.angle?s.body.setSize(3,16).setOffset(13,0):90===s.angle&&s.body.setSize(3,16).setOffset(0,0),e.grLayer.removeTileAt(t.x,t.y)}}),this.player.on("pointerup",function(){e.bullet=e.physics.add.sprite(e.player.x,e.player.y,"ghost",0),e.bullet.body.setAllowGravity(!1),e.bullet.setVelocityX(300)})}},{key:"update",value:function(e,i){this.player.update(),(this.player.y>this.grLayer.height||this.physics.world.overlap(this.player,this.spikeGroup))&&(this.player.destroy(),this.player=new t.default(this,this.spawnPoint.x,this.spawnPoint.y,!0),this.physics.add.collider(this.player,this.grLayer),this.physics.add.collider(this.player,this.bgLayer),this.grLayer.setCollisionByProperty({collides:!0}))}}]),i}();exports.LevelC=u;
},{"../Player.js":"V9/R"}],"HJD/":[function(require,module,exports) {
"use strict";var e=require("./scenes/MenuScene"),r=require("./scenes/LevelA"),s=require("./scenes/LevelB"),a=require("./scenes/LevelC"),c=new Phaser.Game({width:300,height:256,parent:"witches-can-t-cry",scene:[e.MenuScene,r.LevelA,s.LevelB,a.LevelC],render:{pixelArt:!0},physics:{default:"arcade",arcade:{gravity:{y:1e3},debug:!1}},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH}});
},{"./scenes/MenuScene":"qGid","./scenes/LevelA":"+BY5","./scenes/LevelB":"PGbI","./scenes/LevelC":"viY0"}]},{},["HJD/"], null)
//# sourceMappingURL=/main.b2121eba.js.map